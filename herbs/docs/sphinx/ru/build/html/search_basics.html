
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Базовый поиск по электронному гербарию &#8212; Документация Электронный гербарий </title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="index" title="Алфавитный указатель" href="genindex.html" />
    <link rel="search" title="Поиск" href="search.html" />
    <link rel="next" title="Автоматизация поиска гербарных записей в базе данных" href="http_api.html" />
    <link rel="prev" title="Документация к электронному гербарию БСИ ДВО РАН" href="index.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Навигация</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Алфавитный указатель"
             accesskey="I">указатель</a></li>
        <li class="right" >
          <a href="http_api.html" title="Автоматизация поиска гербарных записей в базе данных"
             accesskey="N">вперёд</a> |</li>
        <li class="right" >
          <a href="index.html" title="Документация к электронному гербарию БСИ ДВО РАН"
             accesskey="P">назад</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Документация Электронный гербарий </a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="id1">
<h1>Базовый поиск по электронному гербарию<a class="headerlink" href="#id1" title="Ссылка на этот заголовок">¶</a></h1>
<div class="section" id="id2">
<h2>Возможности<a class="headerlink" href="#id2" title="Ссылка на этот заголовок">¶</a></h2>
<p>Доступ к данным электронного гербария осуществляется либо через предоставляемый web-интерфейс
на <a class="reference external" href="http://botsad.ru/herbarium">официальном сайте организации</a>,
либо посредством использования <a class="reference internal" href="http_api.html"><span class="doc">сервиса</span></a> автоматизированной обработки поисковых запросов.</p>
<p>В поиске участвуют только опубликованные гербарные записи.</p>
<p>Основные возможности поиска через web-интерфейс:</p>
<ul class="simple">
<li>поиск в заданных временных интервалах сбора и определения образцов;</li>
<li>поиск по синонимам видов;</li>
<li>поиск по заданной прямоугольной географической области;</li>
<li>поиск по дополнительным видам (для мультивидовых сборов) и истории определений;</li>
<li>поиск по коду образца;</li>
<li>поиск по стране места сбора образца;</li>
<li>поиск по таксономической принадлежности (семейство, род, видовой эпитет)</li>
</ul>
</div>
<div class="section" id="id4">
<h2>Поисковое меню<a class="headerlink" href="#id4" title="Ссылка на этот заголовок">¶</a></h2>
<p>Базовые поисковые операции возможны через поисковое меню на странице каталога электронного гербария (<a class="reference internal" href="#fig1"><span class="std std-ref">Рис. 1</span></a>)</p>
<div class="figure align-center" id="id6">
<span id="fig1"></span><span id="index-0"></span><img alt="Стандартные поисковые операции" src="_images/1.png" />
<p class="caption"><span class="caption-text">Рис. 1. Вид стандартного поискового меню</span></p>
</div>
<p>При задании нескольких условий в поисковом меню результатом поиска являются записи,
для которых выполняются все условия одновременно. Таким образом, поисковое меню позволяет
формировать поисковые запросы типа <strong>И</strong>. При необходимости выполнения поисковых запросов
типа <strong>ИЛИ</strong> рекомендуется использовать предоставляемый
<a class="reference internal" href="http_api.html"><span class="doc">сервис</span></a> автоматизации поисковых запросов.</p>
<p>Выбор значений полей <strong>Семейство</strong>, <strong>Род</strong> и <strong>Страна</strong> осуществляется из выпадающего списка,
формируемого исходя из известных  семейств, родов — у опубликованных
образцов и всех известных стран соответственно.</p>
<p>Дата начала и окончания сбора задаются при помощи автоматически
всплывающего календаря при попытке внесения значений в эти поля.</p>
<p>В случае задания только даты начала сбора — условие поиска считается выполненным для тех записей,
у которых дата начала сбора больше указанной даты начала сбора.</p>
<p>В случае задания только даты окончания сбора — условие поиска считается выполненным для
тех записей, у которых дата окончания сбора меньше указанной даты окончания сбора.</p>
<p>В случае задания дат начала и окончания сбора одновременно — условие поиска считается
выполненным для тех записей, у которых интервал соответствующих дат пересекается
с указанным временным интервалом сбора.</p>
<p>В отношении остальных текстовых полей —
<strong>видовой эпитет</strong>, <strong>код</strong>, <strong>собрали</strong>, <strong>определили</strong>, <strong>место сбора</strong> —
выполнение поискового условия предполагает включение  введенной подстроки
(без учёта регистра) в соответствующее поле записей таблицы опубликованных гербарных записей.</p>
<p>В случае поиска по полям <strong>собрали</strong> и/или <strong>определили</strong>, если значения
полей записаны кириллическими символами, поисковый запрос также
выполняется по транслитерированным  значениям, обратная транслитерация при этом не выполняется.
Таким образом, если, например, выполнить поиск с полем <strong>собрали</strong> равным «бакалин»,
то будут найдены все образцы, у которых в поле собрали значится подстрока «bakalin» либо «бакалин»; однако,
если поиск изначально выполнить по строке «bakalin», то образцы, у которых в данном поле
использованы кириллические символы («бакалин»), не будут найдены.</p>
<p>Булевы поля <strong>Учитывать синонимы</strong> и <strong>Искать в дополнительных видах</strong>
указывают, что: в первом случае — дополнительно будет использоваться
таблица синонимов видов при поиске образцов, а во втором случае — что поиск
также будет распространяться на присоединённые к данному гербарному сбору
другие виды (для мультивидовых сборов).
В случае, когда отмечены оба поля поиск по известным системе синонимам видов будет
проводится также и во всех присоединённых видах гербарных сборов.</p>
<div class="admonition note">
<p class="first admonition-title">Примечание</p>
<p class="last">Функция учитывать синонимы работает только в случае точного
указания пары (род, видовой эпитет), в противном случае — условие поиска по
синонимам игнорируется и в результатах поиска выводится соответствующее предупреждение,
что условие было проигнорировано.</p>
</div>
<p>Отдельно следует отметить особенности поиска по  полю <strong>Код</strong>.</p>
<p>Электронные гербарные записи БСИ ДВО РАН
имеют тройную систему кодирования — инвентарный номер образца (используемый в хранилище), уникальный числовой ID
гербарной записи, назначаемый системой, а также полевой код, назначаемый сборщиком гербария.</p>
<p>В связи с этим, таблица результатов поиска имеет колонку <strong>Код сбора (комбинированный)</strong>, в
которой отражены все три кода, если таковые заданы.</p>
<p>Комбинированный код имеет следующую структуру:</p>
<div class="admonition note">
<p class="first admonition-title">Примечание</p>
<p class="last">Инвентарный номер или символ */ID образца/Полевой код образца, если задан</p>
</div>
<p>Таким образом, возможны следующие варианты:</p>
<ul class="simple">
<li>*/27031/M.I.38 — означает, что инвентарный номер образца не задан,
автоматически присваиваемый уникальный номер (ID записи) образца — 27031, а полевой код, присвоенный
сборщиком гербария — M.I.38;</li>
<li>42/27029 — инвентарный номер — 47, уникальный ID записи — 27029, полевой код — не задан;</li>
<li>возможны также ситуации, когда заданы все три кода, в этом случае комбинированный код имеет, например, вид:
132123/32032/F-3829-3k (<em>это, однако, гипотетический пример, так как действительный образец со всеми тремя заданными кодами я не нашел</em>)</li>
</ul>
<p>Выполняя поиск по полю <strong>Код</strong> необходимо задавать какой-либо один из кодов; система автоматически выполнит
поиск с учетом соответствия значения любому из трех кодовых полей записи. Например, если в поле <strong>Код</strong> задано «231»
будут найдены все образцы у которых в каком-либо кодовом поле (либо инвентарном коде, либо ID, либо полевом коде)
встречается подстрока «231».</p>
</div>
<div class="section" id="id5">
<h2>Фильтрация результатов поиска<a class="headerlink" href="#id5" title="Ссылка на этот заголовок">¶</a></h2>
<p>Стандартный поисковый интерфейс предоставляет возможность фильтрации результатов поиска
по подразделам гербария, а также по гербарным акронимам.
Панель фильтрации результатов поиска дана на  <a class="reference internal" href="#fig2"><span class="std std-ref">Рис. 2</span></a>.</p>
<div class="figure align-center" id="id7">
<span id="fig2"></span><span id="index-1"></span><img alt="Панель фильтрации результатов поиска" src="_images/2.png" />
<p class="caption"><span class="caption-text">Рис. 2. Панель фильтрации результатов поиска</span></p>
</div>
<p>Панель фильтрации результатов поиска имеет следующие поля:</p>
<ul class="simple">
<li><strong>Количество</strong> —  количество найденных образцов, отображаемых на одной странице;</li>
<li><strong>Название гербария</strong> —  ограничение результатов поиска акрониму;</li>
<li><strong>Подраздел гербария</strong> —  ограничение результатов поиска по подразделу гербария;</li>
<li><dl class="first docutils">
<dt><strong>Упорядочить</strong> —  упорядочивание результатов по какому-либо из полей; справа — булево поле для</dt>
<dd>смены порядка отображаемых результатов.</dd>
</dl>
</li>
</ul>
<p>Вид панели результатов выполнения поискового запроса дан на <a class="reference internal" href="#fig3"><span class="std std-ref">Рис. 3</span></a>.</p>
<p>Во вкладке <strong>Общая информация</strong> выводится перечень удовлетворяющих текущему поисковому условию
(в случае, если никаких поисковых условий не было задано — выводятся все опубликованные записи,
внесённые в базу на текущий момент).</p>
<p>Вкладка <strong>Информация об образце</strong> активируется, при попытке посмотреть
информацию о конкретной гербарной записи в таблице результатов.
В этой вкладке отображается уменьшенная копия персональной страницы образца.</p>
<p>Вкладка <strong>Карта</strong> представляет собой результаты поиска с их отображением на карте.
Как и в случае со вкладкой <strong>Общая информация</strong> на карте отображается
только одна страница результатов поиска. Страницы результатов поиска можно листать,
нажимая ссылки <strong>Предыдущая</strong> и <strong>Следующая</strong>, что приведет
к синхронному изменению отображаемых записей как на <strong>Карте</strong>,
так и во вкладке <strong>Общая информация</strong>.</p>
<p>Вкладка <strong>Автоматизация доступа</strong> содержит общую информацию об организации автоматизированного
доступа посредством предоставляемого <a class="reference internal" href="http_api.html"><span class="doc">сервиса HTTP API</span></a>.</p>
<p>Во вкладке <strong>Карта</strong> также имеется возможность фильтрации результатов поиска
по прямоугольной области, определённой пользователем на карте.
Если область географической фильтрации задана, то в поиске участвуют только
те записи, у которых определены географические координаты сбора.</p>
<div class="figure align-center" id="id8">
<span id="fig3"></span><img alt="Панель результатов поиска" src="_images/3.png" />
<p class="caption"><span class="caption-text">Рис. 3. Панель результатов поиска</span></p>
</div>
<p>Для активации поиска по географической области необходимо нажать
(или дважды кликнуть по окну карты) на кнопку поиска.
При этом на карте появится редактируемая прямоугольная область поиска (<a class="reference internal" href="#fig4"><span class="std std-ref">Рис. 4</span></a>, <a class="reference internal" href="#fig5"><span class="std std-ref">Рис. 5</span></a>).</p>
<div class="figure align-center" id="id9">
<span id="fig4"></span><span id="index-2"></span><img alt="Поиск гербарных записей по области" src="_images/4.png" />
<p class="caption"><span class="caption-text">Рис. 4. Выделение области</span></p>
</div>
<div class="figure align-center" id="id10">
<span id="fig5"></span><img alt="Поиск гербарных записей по области" src="_images/5.png" />
<p class="caption"><span class="caption-text">Рис. 5. Результаты поиска по области</span></p>
</div>
<p>Для выполнения поиска, после завершения процедуры редактирования
поисковой области, необходимо повторно нажать на кнопку поиска.
Это приведёт к ограничению результатов поиска только образцами, принадлежащей
выделенной области. Для отмены поискового условия по области необходимо
нажать на значок <strong>урны</strong> слева от отображаемых координат — границ заданной поисковой области.</p>
<p id="index-3">Выполнение поиска по более сложным — полигональным
поисковым областям в текущей реализации — на  базе MySQL —
не поддерживаются системой, однако,
такой вид поисковых запросов может быть эмулирован программно,
в частности, на базе использования предоставляемого сервиса автоматизации поисковых запросов
(см. <a class="reference internal" href="http_api.html#search-httpapi-examples"><span class="std std-ref">раздел Дополнительно</span></a>).</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/bgi_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Оглавление</a></h3>
  <ul>
<li><a class="reference internal" href="#">Базовый поиск по электронному гербарию</a><ul>
<li><a class="reference internal" href="#id2">Возможности</a></li>
<li><a class="reference internal" href="#id4">Поисковое меню</a></li>
<li><a class="reference internal" href="#id5">Фильтрация результатов поиска</a></li>
</ul>
</li>
</ul>

  <h4>Предыдущий раздел</h4>
  <p class="topless"><a href="index.html"
                        title="предыдущая глава">Документация к электронному гербарию БСИ ДВО РАН</a></p>
  <h4>Следующий раздел</h4>
  <p class="topless"><a href="http_api.html"
                        title="следующая глава">Автоматизация поиска гербарных записей в базе данных</a></p>
  <div role="note" aria-label="source link">
    <h3>Эта страница</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/search_basics.rst.txt"
            rel="nofollow">Исходный текст</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Быстрый поиск</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Искать" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Навигация</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Алфавитный указатель"
             >указатель</a></li>
        <li class="right" >
          <a href="http_api.html" title="Автоматизация поиска гербарных записей в базе данных"
             >вперёд</a> |</li>
        <li class="right" >
          <a href="index.html" title="Документация к электронному гербарию БСИ ДВО РАН"
             >назад</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Документация Электронный гербарий </a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Dmitry E. Kislov.
      Создано с помощью <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.5.
    </div>
  </body>
</html>